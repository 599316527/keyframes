define(["Util","Event","EventEmitter","Compiler"],function(t,n,e,i){function r(t){r.superClass.call(this),this._frames=t}return t.inherit(r,e),r.prototype.onEnd=function(t,e){return this.on(n.end,t,e),this},r.prototype.start=function(){function e(t,e){i.push(e),i.length===r._frames.length&&r.emit(n.end,i)}var i=[],r=this;return t.each(this._frames,function(t){t.start(),t.on(n.over,e)}),this},r.prototype.clear=function(n){return t.each(this._frames,function(t){t.stop()}),n&&i.instance().clear(),this},r});