define(["Checker","Util","Compiler"],function(t,e,n){function i(t,e,n){this._clazz=n,this._define(t,e)}return i.prototype._define=function(t,e){return this._frame=n.instance().defineKeyframe(t,e),this},i.prototype.getName=function(){return this._frame},i.prototype.rewrite=function(e){if(!t.object.check(arguments))throw new Error("incorrect parameter!");return this._define(this._frame,e),this},i.prototype.setConfig=function(t){return t.name=this._frame,this._config=t,this._configs=[t],this},i.prototype.getConfigs=function(){return this._configs},i.prototype.keyframe=function(t){var n,i={"@":"function","#":"count",_:"delay","~":"duration",">":"direction"},r={},o=t.replace(/([@#~>_])([^@#~>_]*)/g,function(t,e,n){return r[e]=n,""}).trim();return e.forIn(r,function(t,e){n=i[t],n in this._config||(this._config[n]=e)},this),"."===o[0]?(o=document.getElementsByClassName(o.substr(1)),this._keyframes=[],e.each(o,function(t){this._keyframes.push(new this._clazz(t,this._configs))},this)):(o=document.getElementById(o),this._keyframes=[new this._clazz(o,this._configs)]),this._keyframes},i.prototype.combine=function(t){var e=t.getConfigs();return e&&(this._configs=this._configs.concat(e)),this},i});