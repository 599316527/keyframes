function Promise(){Promise.superClass.call(this)}Promise.event={success:"success",error:"error",progress:"progress"},Util.inherit(Promise,EventEmitter),Promise.prototype.then=function(e,s,r){return e&&this.on(Promise.event.success,e),s&&this.on(Promise.event.error,s),r&&this.on(Promise.event.progress,r),this};