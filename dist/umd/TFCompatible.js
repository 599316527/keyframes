!function(t,e){"function"==typeof define&&define.amd?define(["Util","Event","EventEmitter","Compatible"],e):t.TFCompatible=e(t.Util,t.Event,t.EventEmitter,t.Compatible)}(this,function(t,e,r,o){function n(){n.superClass.call(this),this.convertMap={}}return t.inherit(n,r),n.prototype.prefix=o.prefix,n._keyMap={transform:["transform"],transition:["transition"],duration:["transitionDuration","1s"],"function":["transitionTimingFunction","linear"],delay:["transitionDelay","0s"]},n.prototype.parseCSS=function(t){if(t in n._keyMap&&(t=n._keyMap[t][0]),"undefined"!=typeof document.body.style[t])return t;var e=this.prefix.replace(/-/g,"");return e+t[0].toUpperCase()+t.substr(1)},n.prototype.cssMap=function(t){if(!(t in this.convertMap)){var e=t.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()});"undefined"==typeof document.body.style[t]&&(e=this.prefix+e),this.convertMap[t]=e}return this.convertMap[t]},n.prototype.eventMap={"border-radius":["border-bottom-left-radius","border-top-left-radius","border-bottom-right-radius","border-top-right-radius"],border:["border-left-width","border-top-width","border-right-width","border-bottom-width","border-left-color","border-top-color","border-right-color","border-bottom-color"]},n.prototype.addStatus=function(t,e){var r=this.cssMap(e);return r in this.eventMap?t.add(r,this.eventMap[r]):t.add(r),r},n.prototype.peelMould=function(e){var r={};return t.forIn(n._keyMap,function(t){t in e&&(r[t]=e[t])}),r},n.prototype.clone=function(e,r){var o,i=n._keyMap;return e instanceof Array?(o=[],t.each(e,function(t){o.push(this.clone(t,r))},this)):"object"==typeof e?(o={},t.forIn(e,function(t,e){t in i?o[t]=this.clone(e,r):t in r&&("api"in o||(o.api={}),o.api[r[t]]=this.clone(e,r))},this)):o=e,o},n.prototype.parseTransition=function(t){function e(e,r){return r in t?t[r]:n._keyMap[r][1]}return"<property> <duration> <function> <delay>".replace(/<(.*?)>/g,e)},n.instance=function(){return n._compatible||(n._compatible=new n),n._compatible},n.prototype.parseEvent=o.parseEvent("transition","Transition"),n});