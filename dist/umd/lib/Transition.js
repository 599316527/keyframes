window['define'] = typeof ESL_define === 'function' ? ESL_define : window['define'];!function(t,e){"function"==typeof define&&define.amd?define("Util",e):t.Util=e()}(this,function(){var t={forIn:function(t,e,n){for(var i in t)if(e.call(n,i,t[i])===!1)return!1;return!0},rewrite:function(e,n){return n?(t.forIn(n,function(t,n){e[t]=n}),e):e},define:function(t){t=t.split(".");for(var e,n=window;e=t.shift();)e in n||(n[e]={}),n=n[e]},extend:function(e,n){return e?(n&&t.forIn(n,function(t,n){t in e||(e[t]=n)}),e):n},inherit:function(t,e){var n=new Function;n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.superClass=e},xInA:function(e,n){var i=-1;return t.each(n,function(t,n){return t===e?(i=n,!1):void 0}),i},arg2Ary:function(t){return Array.prototype.slice.call(t,0)},each:function(t,e,n){for(var i=0,o=t.length;o>i&&e.call(n,t[i],i,t)!==!1;i++);return i===t.length},random:{seed:[[48,9],[65,25],[97,25]],generator:function(t){return String.fromCharCode(t[0]+Math.floor(t[1]*Math.random()))},word:function(t){var e;return e=0===t?Math.floor(2*Math.random())+1:Math.floor(3*Math.random()),this.generator(this.seed[e])},name:function(t){t=t||6;for(var e="",n=0;t>n;n++)e+=this.word(n);return e}},addClass:function(t,e){t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))||(t.className=(t.className+" "+e).trim())},removeClass:function(t,e){t.className=t.className.replace(new RegExp("(\\s|^)"+e+"(\\s|$)")," ").trim()},css:function(e,n,i){return"string"==typeof n?t.$css(e,n,i):void t.forIn(n,function(n,i){t.$css(e,n,i)})},stopPropagation:function(t){t.stopPropagation()},$css:function(t,e,n){return void 0!==n?(t.style[e]=n,n):t.style[e]},on:function(t,e,n){t.addEventListener(e,n,!1)},off:function(t,e,n){t.removeEventListener(e,n,!1)}};return t}),function(t,e){"function"==typeof define&&define.amd?define("Event",e):t.Event=e()}(this,function(){var t={style:"Style",css:"CSS",clear:"Clear",beforeStart:"BeforeStart",pause:"Pause",start:"Start",iteration:"Iteration",end:"End",next:"Next",over:"Over",on:"On",off:"Off",stop:"Stop",goon:"Goon",once:"Once",all:"All",emit:"Emit"};return t}),function(t,e){"function"==typeof define&&define.amd?define("Checker",["Util"],e):t.Checker=e(t.Util)}(this,function(t){function e(){this._list=t.arg2Ary(arguments)}return e.prototype.check=function(e){var n=this;if(e.length!==n._list.length)return!1;var i,o,r=t.each(e,function(t,e){if(i=n._list[e],o=typeof i,"string"===o){if(typeof t!==i)return!1}else if("function"===o&&!(t instanceof i))return!1});return r},e.stringObject=new e("string","object"),e.objectString=new e("object","string"),e.object=new e("object"),e.string=new e("string"),e.ssFunction=new e("string","string","function"),e.sFunction=new e("string","function"),e.array=new e(Array),e}),function(t,e){"function"==typeof define&&define.amd?define("EventEmitter",["Util","Event","Checker"],e):t.EventEmitter=e(t.Util,t.Event,t.Checker)}(this,function(t,e,n){function i(){this._triggers={}}return i.type={once:"once",all:"all"},i.prototype.on=function(t,n,i){if(!t)throw new Error("undefined event!");t in this._triggers?this._triggers[t].push({fn:n,option:i}):this._triggers[t]=[{fn:n,option:i}],this.emit(e.on,t,i)},i.prototype.off=function(i,o){if(n.string.check(arguments))i in this._triggers&&(this._triggers[i]=[],this.emit(e.off,i));else{if(!n.sFunction.check(arguments))throw new Error("incorrect parameter!");if(i in this._triggers){var r=-1;t.each(this._triggers[i],function(t,e){return t.fn===o?(r=e,!1):void 0}),r>-1&&(this._triggers[i].splice(r,1),this.emit(e.off,i))}}},i.prototype.once=function(t,n,o){o||(o={}),o.type=i.type.once,this.emit(e.once,t,o),this.on(t,n,o)},i.prototype.callWithScope=function(t,e,n){n=n||[],e&&e.hasOwnProperty("scope")?t.apply(e.scope,n):t.apply(this,n)},i.prototype.all=function(n,o,r){var s={},a=[];if(0===n.length)return void this.callWithScope(o,r);var f=this,p=function(e){return function(n,i){n in s&&(s[n]=!0,a[e]=i);var p=t.forIn(s,function(t,e){return e===!1?!1:void 0});p&&f.callWithScope(o,r,a)}};t.each(n,function(t,e){s[t]=!1,this.on(t,p(e),{type:i.type.all})},f),this.emit(e.all,n,r)},i.prototype.emit=function(e){var n,i,o,r,s=this._triggers[e],a=[],f=arguments;if(s){var p=this;if(t.each(s,function(e){o=e.fn,r=e.option,r?(n=r.scope,i=r.type):(n=!1,i=!1),n?o.apply(n,t.arg2Ary(f)):o.apply(p,t.arg2Ary(f)),i&&a.push(e)}),a.length>0){var c,u,h=[],l=0,d=0,m=s.length,_=a.length;for(c=a[d];m>l;)u=s[l],u===c?(d++,c=_>d?a[d]:-1):h.push(u),l++;0===h.length?delete this._triggers[e]:this._triggers[e]=h}}},i}),function(t,e){"function"==typeof define&&define.amd?define("Compatible",["Util"],e):t.Compatible=e(t.Util)}(this,function(t){var e={prefix:function(){var t=navigator.userAgent,e="";return/WebKit|Chrome|Safari|Maxthon/.test(t)?e="-webkit-":t.indexOf("Opera")>-1?e="-o-":t.indexOf("Firefox")>-1?e="-moz-":(t.indexOf("compatible")>-1&&t.indexOf("MSIE")>-1||t.indexOf("Trident")>-1)&&(e="-ms-"),e}(),requestAnimationFrame:function(){for(var t=["ms","moz","webkit","o"],e=0,n=t.length;n>e&&!window.requestAnimationFrame;++e)window.requestAnimationFrame=window[t[e]+"RequestAnimationFrame"];if(!window.requestAnimationFrame){var i=0;return function(t){var e=(new Date).getTime(),n=Math.max(0,(16-(e-i))%16),o=window.setTimeout(function(){t()},n);return i=e+n,o}}return function(t){window.requestAnimationFrame(t)}}(),css:function(n,i,o,r){return o||""===o?void e.requestAnimationFrame(function(){t.css(n,i,o),r&&r(n,i,o)}):t.css(n,i)},reflow:function(t){e.requestAnimationFrame(function(){t.offsetWidth=t.offsetWidth})},parseEvent:function(t,n){var i=e.prefix.replace(/-/g,"");return"moz ms".indexOf(i)>-1?function(e){return t+e.toLowerCase()}:function(t){return i+n+t}}};return e}),function(t,e){"function"==typeof define&&define.amd?define("TFCompatible",["Util","Event","EventEmitter","Compatible"],e):t.TFCompatible=e(t.Util,t.Event,t.EventEmitter,t.Compatible)}(this,function(t,e,n,i){function o(){o.superClass.call(this),this.convertMap={}}return t.inherit(o,n),o.prototype.prefix=i.prefix,o._keyMap={transform:["transform"],transition:["transition"],duration:["transitionDuration","1s"],"function":["transitionTimingFunction","linear"],delay:["transitionDelay","0s"]},o.prototype.parseCSS=function(t){if(t in o._keyMap&&(t=o._keyMap[t][0]),"undefined"!=typeof document.body.style[t])return t;var e=this.prefix.replace(/-/g,"");return e+t[0].toUpperCase()+t.substr(1)},o.prototype.cssMap=function(t){if(!(t in this.convertMap)){var e=t.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()});"undefined"==typeof document.body.style[t]&&(e=this.prefix+e),this.convertMap[t]=e}return this.convertMap[t]},o.prototype.eventMap={"border-radius":["border-bottom-left-radius","border-top-left-radius","border-bottom-right-radius","border-top-right-radius"],border:["border-left-width","border-top-width","border-right-width","border-bottom-width","border-left-color","border-top-color","border-right-color","border-bottom-color"]},o.prototype.addStatus=function(t,e){var n=this.cssMap(e);return n in this.eventMap?t.add(n,this.eventMap[n]):t.add(n),n},o.prototype.peelMould=function(e){var n={};return t.forIn(o._keyMap,function(t){t in e&&(n[t]=e[t])}),n},o.prototype.clone=function(e,n){var i,r=o._keyMap;return e instanceof Array?(i=[],t.each(e,function(t){i.push(this.clone(t,n))},this)):"object"==typeof e?(i={},t.forIn(e,function(t,e){t in r?i[t]=this.clone(e,n):t in n&&("api"in i||(i.api={}),i.api[n[t]]=this.clone(e,n))},this)):i=e,i},o.prototype.parseTransition=function(t){function e(e,n){return n in t?t[n]:o._keyMap[n][1]}return"<property> <duration> <function> <delay>".replace(/<(.*?)>/g,e)},o.instance=function(){return o._compatible||(o._compatible=new o),o._compatible},o.prototype.parseEvent=i.parseEvent("transition","Transition"),o}),function(t,e){"function"==typeof define&&define.amd?define("Status",["Util"],e):t.Status=e(t.Util)}(this,function(t){function e(){this.init(),this.size=0,this.store=[]}return e.sep="|",e.prototype.init=function(){this.all={},this.once={},this.addUp=0},e.prototype.add=function(t,n,i){this.all[t]=!1;var o=e.sep;n&&(this.once[t]=o+n.join(o+o)+o),i||(this.store.push({all:t,once:n}),this.size++)},e.prototype.reset=function(){this.init(),t.each(this.store,function(t){this.add(t.all,t.once,!0)},this)},e.prototype.isDone=function(){return this.size===this.addUp},e.prototype.digest=function(n){var i=this.all,o=this.once,r=e.sep;n in i?(i[n]=!0,delete o[n],this.addUp++):t.forIn(o,function(t,e){return e=e.replace(r+n+r,""),o[t]=e,""===e?(i[n]=!0,this.addUp++,delete o[n],!1):void 0},this)},e}),function(t,e){"function"==typeof define&&define.amd?define("Transition",["Util","Event","EventEmitter","Compatible","TFCompatible","Status"],e):t.Transition=e(t.Util,t.Event,t.EventEmitter,t.Compatible,t.TFCompatible,t.Status)}(this,function(t,e,n,i,o,r){function s(t,e){s.superClass.call(this),this._dom=t,this._executeInTime=e,this._steps=[],this._store={},this._index=0,this._transformRecord="",this._firstRun=!0,this._compatible=o.instance(),this._listen()}return t.inherit(s,n),s.prototype._listen=function(){function n(t){return function(e){i.emit(t,e)}}var i=this,o=i._compatible;this.on(e.on,function(t,r){r===e.end&&(i._monitorEnd||(i._monitor=n(r),i._on(o.parseEvent(r),i._monitor)))}),this.on(e.end,function(n,r){if(i._index<i._steps.length){var s=i._steps[i._index],a=r.propertyName.replace(o.prefix,"");s.status.digest(a),s.status.isDone()&&(i._index++,s.next?(i.emit(e.next,s),s.next()):i.emit(e.over,s))}t.stopPropagation(r)})},s.prototype.setExecuteInTime=function(t){return this._executeInTime=t,this},s.prototype.reStore=function(){i.css(this._dom,this._store,"",this);for(var t;this._index>0;)this._index--,t=this._steps[this._index].status,t.reset();return this._transformRecord="",this},s.prototype.reflow=function(){return i.reflow(this._dom),this},s.prototype.execute=function(){if(this._firstRun||(this.reStore().reflow(),this._firstRun=!1),this._index<this._steps.length){var t=this._steps[this._index];"execute"in t&&t.execute()}return this},s._apiMap={changeTo:{c:"color",bc:"backgroundColor",fs:"fontSize",br:"borderRadius",bo:"border",o:"opacity",l:"left",r:"right",t:"top",b:"bottom",w:"width",h:"height"},moveTo:{t:"top",l:"left",b:"bottom",r:"right"},moveBy:{x:"translateX",y:"translateY",z:"translateZ","2d":"translate","3d":"translate3d"},scaleBy:{x:"scaleX",y:"scaleY",z:"scaleZ","2d":"scale","3d":"scale3d"},rotateBy:{x:"rotateX",y:"rotateY",z:"rotateZ","3d":"rotate3d"},skewBy:{x:"skewX",y:"skewY","2d":"skew"}},s.prototype._step=function(t,n,o){var r=this,s=r._compatible,a={},f=r._steps.length,p=function(t,n,i){r.emit(e.css,t,n,i)};if(f>0){var c=r._steps[f-1],u=c.next;u?(c.next=function(){u(),i.css(r._dom,s.parseCSS("transition"),t,p),i.css(r._dom,n(),"",p)},r._index===r._steps.length&&(i.css(r._dom,s.parseCSS("transition"),t,p),i.css(r._dom,n(),"",p))):(c.next=function(){i.css(r._dom,s.parseCSS("transition"),t,p),i.css(r._dom,n(),"",p)},r._index===r._steps.length&&c.next())}else a.execute=function(){i.css(r._dom,s.parseCSS("transition"),t,p),i.css(r._dom,n(),"",p)},this._executeInTime&&a.execute();a.status=o,a.next=!1,this._steps.push(a)},s.prototype._combineTransform=function(t){return this._transformRecord+=t.join(" "),this._transformRecord},s.prototype._fillTransformParams=function(e,n,i){var o=this._compatible,r=o.parseCSS("transform"),s=o.parseCSS("transition");e=o.clone(e,n);var a=e.api;if(!a)throw new Error("不健全的配置项！");t.forIn(a,function(t,e){i.push(t+"("+e+")")}),r in this._store||(this._store[r]=t.css(this._dom,r)),s in this._store||(this._store[s]=t.css(this._dom,s))},s.prototype._transform=function(t,e){var n=this,i=n._compatible,o=i.cssMap("transform"),s=[];this._fillTransformParams(t,e,s);var a=new r;a.add("transform"),t.property=o,this._step(i.parseTransition(t),function(){var t={},e=i.parseCSS("transform");return t[e]=n._combineTransform(s),t},a)},s.prototype._fillCSSParams=function(e,n,i,o,r){var s,a=this,f=a._compatible.parseCSS("transition");return e=a._compatible.clone(e,n),e instanceof Array||(e=[e]),t.each(e,function(e){if(!e.api)throw new Error("不健全的配置！");t.forIn(e.api,function(n,p){s=this._compatible.addStatus(r,n),o[n]=p,n in this._store||(this._store[n]=t.css(this._dom,n)),f in this._store||(this._store[f]=t.css(this._dom,f)),e.property=s,i.push(a._compatible.parseTransition(e))},a)}),e},s.prototype._css=function(t,e){var n=[],i={},o=new r;this._fillCSSParams(t,e,n,i,o),this._step(n.join(","),function(){return i},o)},s.prototype.moveTo=function(t){var e=s._apiMap.moveTo;return t=this._patchMoveTo(t,e),this._css(t,e),this},s.prototype._patchMoveTo=function(e,n){e instanceof Array||(e=[e]);var i,o,r=this._dom,s={};return t.each(e,function(e){t.forIn(e,function(e){e in n&&(o=n[e],i=t.css(r,o),i&&"auto"!==i||(s[o]=0))})}),t.forIn(s,function(e,n){t.css(r,e,n)}),e},s.prototype.changeTo=function(t){var e=s._apiMap.changeTo;return t=this._patchMoveTo(t,s._apiMap.moveTo),this._css(t,e),this},s.prototype.moveBy=function(t){var e=s._apiMap.moveBy;return this._transform(t,e),this},s.prototype.scaleBy=function(t){var e=s._apiMap.scaleBy;return this._transform(t,e),this},s.prototype.skewBy=function(t){var e=s._apiMap.skewBy;return this._transform(t,e),this},s.prototype.rotateBy=function(t){var e=s._apiMap.rotateBy;return this._transform(t,e),this},s.prototype.mock=function(e,n){var i=s._apiMap[e],o={},a=new r,f=[];if("moveTo changeTo".indexOf(e)>-1)return this._fillCSSParams(n,i,f,o,a),[f.join(","),o,a];var p=this._compatible,c=p.parseCSS("transform"),u=[],h=p.cssMap("transform");if("mix"===e){var l,d=this._compatible.peelMould(n),m=0;return t.forIn(s._apiMap,function(e,i){e in n&&(l=n[e],"moveTo"===e||"changeTo"===e?(l=this._patchMoveTo(l,s._apiMap.moveTo),t.each(l,function(e){t.extend(e,d)}),this._fillCSSParams(l,i,f,o,a)):(this._fillTransformParams(l,i,u),m++))},this),m>0&&(a.add("transform"),n.property=h,f.push(p.parseTransition(n))),m>0&&(c=p.parseCSS("transform"),o[c]="old+; "+u.join(" ")),[f.join(","),o,a]}return this._fillTransformParams(n,i,u),a.add("transform"),n.property=h,o[c]="old+; "+u.join(" "),[p.parseTransition(n),o,a]},s.prototype.mix=function(e){var n,i=this._compatible.peelMould(e),o=[],a={},f=new r,p=[],c=0;t.forIn(s._apiMap,function(r,u){r in e&&(n=e[r],"moveTo"===r||"changeTo"===r?(n=this._patchMoveTo(n,s._apiMap.moveTo),t.each(n,function(e){t.extend(e,i)}),this._fillCSSParams(n,u,o,a,f)):(this._fillTransformParams(n,u,p),c++))},this);var u=this,h=u._compatible;if(c>0){var l=h.cssMap("transform");f.add("transform"),e.property=l,o.push(h.parseTransition(e))}return this._step(o.join(","),function(){if(c>0){var t=h.parseCSS("transform");a[t]=u._combineTransform(p,t)}return a},f),this},s.prototype.then=function(t){var e=this._steps.length;if(e>0){var n=this._steps[e-1],i=n.next;n.next=i?function(){i(),t()}:t}else t();return this},s.prototype._on=function(e,n){t.on(this._dom,e,n)},s.prototype._off=function(e,n){t.off(this._dom,e,n)},s.prototype._unListen=function(){this._monitorEnd&&this._off(this._compatible.parseEvent(e.end),this._monitorEnd)},s.prototype.perspective=function(t){var e=this._compatible,n=this._dom.parentNode;return t===!1?i.css(n,e.parseCSS("transformStyle"),"flat",this):(i.css(n,e.parseCSS("transformStyle"),"preserve-3d",this),i.css(n,e.parseCSS("perspective"),t,this)),this},s});