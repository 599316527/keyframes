function Compatible(){var t=new Pitch;t.use("prefixOnly","text-shadow transition transition-timing-function animation-timing-function transform-origin",function(t,e){return Compatible.prefix+t+":"+e+";"}),t.use("needAll","box-shadow border-radius",function(t,e){return Compatible.prefix+t+":"+e+";"+t+":"+e+";"}),t.use("extend","translateX translateY translateZ translate translate3d rotateX rotateY rotateZ rotate rotate3d skewX skewY skewZ skew scaleZ scaleX scaleY scale3d scale perspective",function(t,e,n){return"transform"in n?n.transform+=" "+t+"("+e+")":n.transform=t+"("+e+")",""}),t.use("transform","transform",function(t,e,n){return"transform"in n?n.transform+=" "+e:n.transform=e,""}),t.use("special","background-gradient",function(t,e){return"!!!"}),t.use("rest","*",function(t,e){return t+":"+e+";"}),this._pitch=t,this._combine=new Pitch("combine","transform",function(t,e){return Compatible.prefix+t+":"+e+";"})}Compatible.prefix=function(){var t=navigator.userAgent,e=t.indexOf("Opera")>-1,n=t.indexOf("Maxthon")>-1,i=!e&&t.indexOf("compatible")>-1&&t.indexOf("MSIE")>-1||t.indexOf("Trident")>-1,o=t.indexOf("Firefox")>-1,r=t.indexOf("Safari")>-1&&t.indexOf("Chrome")<1,a=t.indexOf("Chrome")>-1,p=t.indexOf("WebKit")>-1;return i?"-ms-":p||r||a||n?"-webkit-":e?"-o-":o?"-moz-":""}(),Compatible._keyMap={name:"animationName",duration:["animationDuration","0s"],"function":["animationTimingFunction","linear"],delay:["animationDelay","0s"],count:["animationIterationCount",1],direction:["animationDirection","normal"],state:["animationPlayState","running"],mode:["animationFillMode","forwards"]},Compatible.prototype.parseAnimation=function(t){function e(t,e){return e in n?n[e]:Compatible._keyMap[e][1]}Checker.array.check(t)||(t=[t]);var n,i=[];return Util.each(t,function(t){n=t,i.push(this.animationTpl().replace(/<(.*?)>/g,e))}),i.join(",")},Compatible.prototype.animationTpl=function(){return this._animationTpl||("-moz-"===Compatible.prefix?(this._animationTpl="<duration> <function> <delay> <direction> <mode> <count> <state> <name>",this._closeReg={start:"\\s",end:"(?:\\s*)$"}):(this._animationTpl="<name> <duration> <function> <delay> <count> <direction> <mode>",this._closeReg={start:"^(?:\\s*)",end:"\\s"})),this._animationTpl},Compatible.prototype.keyframe=function(t){return"@"+Compatible.prefix+"keyframes "+t},Compatible.prototype.percent=function(t){t=(t+"").trim();var e=t.split(/\s+/);return e.join("%, ")+"%"},Compatible.prototype.patchCombine=function(t,e){return this._combine["do"](t+" ",e)},Compatible.prototype.patch=function(t,e,n){return this._pitch["do"](t+" ",e,n)},Compatible.instance=function(){return Compatible._compatible||(Compatible._compatible=new Compatible),Compatible._compatible},Compatible.prototype.parseCSS=function(){var t,e=Compatible.prefix.replace(/-/g,"");return t="moz"===e?function(t){return t in Compatible._keyMap?Compatible._keyMap[t]:t}:function(t){return t in Compatible._keyMap&&(t=Compatible._keyMap[t]),e+t[0].toUpperCase()+t.substr(1)}}(),Compatible.prototype.addAnimation=function(t,e){var n=this.parseCSS("animation"),i=this.css(t,n);i&&""!==i&&(e=i+","+e),this.css(t,n,e)},Compatible.prototype.css=function(t,e,n){return"undefined"!=typeof window.getComputedStyle?Compatible.prototype.css=function(t,e,n){if(void 0!==n)return t.style[e]=n,n;var i=window.getComputedStyle(t,null)[e];if(""===i)throw new Error("去掉吧");return""===i?base.style[e]:i}:"undefined"!=typeof t.currentStyle&&(Compatible.prototype.css=function(t,e,n){if(void 0!==n)return t.style[e]=n,n;var i=t.currentStyle[e];if(""===i)throw new Error("去掉吧");return""===i?t.style[e]:i}),this.css(t,e,n)};