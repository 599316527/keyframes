function TFCompatible(){TFCompatible.superClass.call(this),this.convertMap={}}Util.inherit(TFCompatible,EventEmitter),TFCompatible.prototype.prefix=Compatible.prefix,TFCompatible._keyMap={transform:["transform"],transition:["transition"],duration:["transitionDuration","1s"],"function":["transitionTimingFunction","linear"],delay:["transitionDelay","0s"]},TFCompatible.prototype.parseCSS=function(t){t in TFCompatible._keyMap&&(t=TFCompatible._keyMap[t][0]);var e=document.getElementsByTagName("body")[0];if("undefined"!=typeof e.style[t])return t;var o=this.prefix.replace(/-/g,"");return o+t[0].toUpperCase()+t.substr(1)},TFCompatible.prototype.cssMap=function(t){if(!(t in this.convertMap)){var e=document.getElementsByTagName("body")[0],o=t.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()});"undefined"==typeof e.style[t]&&(o=this.prefix+o),this.convertMap[t]=o}return this.convertMap[t]},TFCompatible.prototype.eventMap={"border-radius":["border-bottom-left-radius","border-top-left-radius","border-bottom-right-radius","border-top-right-radius"],border:["border-left-width","border-top-width","border-right-width","border-bottom-width","border-left-color","border-top-color","border-right-color","border-bottom-color"]},TFCompatible.prototype.addStatus=function(t,e){var o=this.cssMap(e);return o in this.eventMap?t.add(o,this.eventMap[o]):t.add(o),o},TFCompatible.prototype.peelMould=function(t){var e={};return Util.forIn(TFCompatible._keyMap,function(o){o in t&&(e[o]=t[o])}),e},TFCompatible.prototype.clone=function(t,e){var o,i=TFCompatible._keyMap;return t instanceof Array?(o=[],Util.each(t,function(t){o.push(this.clone(t,e))},this)):"object"==typeof t?(o={},Util.forIn(t,function(t,r){t in i?o[t]=this.clone(r,e):t in e&&("api"in o||(o.api={}),o.api[e[t]]=this.clone(r,e))},this)):o=t,o},TFCompatible.prototype.parseTransition=function(t){function e(e,o){return o in t?t[o]:TFCompatible._keyMap[o][1]}return"<property> <duration> <function> <delay>".replace(/<(.*?)>/g,e)},TFCompatible.instance=function(){return TFCompatible._compatible||(TFCompatible._compatible=new TFCompatible),TFCompatible._compatible},TFCompatible.prototype.parseEvent=Compatible.parseEvent("transition","Transition");